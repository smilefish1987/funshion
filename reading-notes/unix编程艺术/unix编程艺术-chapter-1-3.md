# unix 编程艺术 chapter 1-3

1.Unix哲学的一个特性：行为的最终逻辑被尽可能推后到使用端；设计的信念：最终用户永远比操作系统设计人员更清楚他们究竟需要什么 



2.Unix哲学是这样的：一个程序只做一件事，并做好。程序要能协作。程序要能处理文本流，因为这是最通用的接口




3.Unix哲学：

     3.1 模块原则：使用简洁的接口拼合简单的部件

     3.2 清晰原则：清晰胜于机巧

     3.3 组合原则：设计时考虑拼接组合

     3.4 分离原则：策略同机制分离，接口同引擎分离

     3.5 简洁原则：设计要简洁，复杂度能低则低

     3.6 吝啬原则：除非确无它法，不要编写庞大的程序

     3.7 透明性原则：设计要可见，以便审查和调试

     3.8 健壮原则：健壮源于透明与简洁

     3.9 表示原则：把知识叠入数据以求逻辑质朴而健壮

     3.10 通俗原则：接口设计避免标新立异

     3.11 缄默原则：如果一个程序没什么好说的，就保持沉默

     3.12 补救原则：出现异常时，马上退出并给出足量错误信息

     3.13 经济原则：能花机器一分，不花程序员一秒

     3.14 生成原则：避免手工hack，尽量编写程序去生成程序

     3.15 优化原则：雕琢前先得有原型，跑之前先学会走

     3.16 多样原则：决不相信所谓“不二法门”的断言

     3.17 扩展原则：设计着眼未来，未来总比预想快

     

4.Unix哲学一言以蔽之：KISS(Keep It Simple, Stupid)原则




5.应用Unix哲学：

     5.1 只要可行，一切都应该做成与来源和目标无关的过滤器

     5.2 数据流应尽可能文本化（这样可以使用标准工具来查看和过滤）

     5.3 数据库部署和应用协议应尽可能文本化（让人可以阅读和编辑）

     5.4 复杂的前端（用户界面）和后端应该泾渭分明

     5.5 如果可能，用C编写前，先用解释性语言搭建原则

     5.6 当且仅当只用一门语言编程会提高程序复杂度时，混用语言编程才比单一语言编程来得好

     5.7 宽收严发 （对接收的东西要包容，对输出的东西要严格）

     5.8 过滤时，不需要丢弃的信息决不丢

     5.9 小就是美，在确保完成任务的基础上，程序功能尽可能少


6.unix的教训：
a)在unix的历史中，最大的规律就是：距开源越近就越繁荣。任何将unix专有话的企图，只能陷入停滞和衰败

7.对今后的教训：
a)过度依赖任何一种技术或商业模式都是错误的——相反，保持软件及其设计传统上的灵活性才是长存之道。
b)别和低价而灵活的方案较劲

8.操作系统的设计，在明显和微妙两方面，造就了该系统下软件开发的风格。

9.Unix的统一性理念：
>a.“一切皆文件”模型及在此基础上建立的管道概念，这是最重要的一点

>b.多任务的能力，unix系统拥有抢先式多任务能力(＂多任务＂和＂多用户＂不是一回事)

>c.协作进程  在unix中，低价的进程生产和简便的进程间通信使众多小工具，管道和过滤器组成一个均衡系统成为可能

>d.内部边界 [Unix的准绳是：程序员最清楚一切]  
Unix至少设立了三层内部边界来防范恶意用户或有缺陷的程序：
1）内存管理 ： unix用硬件自身的内存管理单元(MMU)来保证各自的进程不会侵入到其他进程的内存地址空间
2）为多用户设置的真正权限组  普通用户(非root用户)的进程未经允许，就不能更改或者读取其他用户的文件
3）最小安全特性  把涉及关键安全性的功能限制在尽可能小的可信代码快上

e> 文件属性和纪录结构  unix文件既没有纪录结构也没有文件属性。（unix不是以文件名后缀来识别文件类型的）

f> 透明的二进制文件格式

g> 首选用户界面风格  操作系统的设计者把命令行界面(CLI) 和 图形用户界面(GUI)两种中的哪一种选作一般表现模式，讲影响设计的许多方面--从进程调度、内存管理直到应用程序使用的应用程序编程接口(API)

h> 目标受众  Unix是程序员写给程序员的

i> 开发的门坎 区分操作系统的另一个重要尺度是纯用户转变为开发者的门坎高度。[在很多unix下写代码的人并不认为自己在写代码——他们认为是在为普通任务的自动化编写脚本或者定制环境]

10.Unix的系统配置和用户配置数据分散存在众多的dofiles(名字以"."开头的文件)和系统数据文件中，而NT则集中存放在注册表中。以下后果贯穿于设计中：
a> 注册表使得整个系统完全不具备正交性。应用程序的单点故障就会损坏注册表，经常使得整个操作系统无法使用、必须重装

b> 注册表的蠕变现象：随着注册表的膨胀，越来越大的存取开销拖慢了所有程序的允许

10.IBM的MVS(多重虚拟存储)的统一理念是：一切皆批处理





